digraph "PRD-S3-ATTRACTOR-001" {
    graph [
        label="Initiative: PRD-S3-ATTRACTOR-001"
        labelloc="t"
        fontsize="16"
        rankdir="TB"
        prd_ref="PRD-S3-ATTRACTOR-001"
        promise_id=""
    ];

    node [fontname="Helvetica" fontsize="11"];
    edge [fontname="Helvetica" fontsize="9"];

    start [
        shape="Mdiamond"
        label="PARSE\nPRD-S3-ATTRACTOR-001"
        handler="start"
        status="validated"
        style="filled"
        fillcolor="lightgreen"
    ];

    validate_graph [
        shape="box"
        label="Validate Graph\nStructure"
        handler="tool"
        command="attractor validate pipeline.dot"
        status="pending"
        style="filled"
        fillcolor="lightyellow"
    ];

    init_env [
        shape="box"
        label="Initialize\nEnvironment"
        handler="tool"
        command="launchorchestrator prd-s3-attractor-001"
        status="pending"
        style="filled"
        fillcolor="lightyellow"
    ];

    impl_extend_zerorepo_for_dot_pipeline_generation [
        shape="box"
        label="Extend ZeroRepo for DOT Pipeline\nGeneration"
        handler="codergen"
        bead_id="claude-harness-setup-k5x0"
        worker_type="backend-solutions-engineer"
        acceptance="ZeroRepo generate produces pipeline.dot; attractor annotate adds bead_id; init_promise creates cs-promise; validate pass"
        promise_ac="AC-1"
        prd_ref="PRD-S3-ATTRACTOR-001"
        status="pending"
        style="filled"
        fillcolor="lightyellow"
    ];

    validate_extend_zerorepo_for_dot_pipeline_generation_tech [
        shape="hexagon"
        label="Extend ZeroRepo\nfor DOT\nPipeline\nTechnical\nValidation"
        handler="wait.human"
        gate="technical"
        mode="technical"
        bead_id="AT-k5x0-TECH"
        promise_ac="AC-1"
        status="pending"
        style="filled"
        fillcolor="lightyellow"
    ];

    validate_extend_zerorepo_for_dot_pipeline_generation_biz [
        shape="hexagon"
        label="Extend ZeroRepo\nfor DOT\nPipeline\nBusiness\nValidation"
        handler="wait.human"
        gate="business"
        mode="business"
        bead_id="AT-k5x0-BIZ"
        promise_ac="AC-1"
        status="pending"
        style="filled"
        fillcolor="lightyellow"
    ];

    decision_extend_zerorepo_for_dot_pipeline_generation [
        shape="diamond"
        label="Extend ZeroRepo\nfor DOT\nPipeline\nResult?"
        handler="conditional"
    ];

    finalize [
        shape="Msquare"
        label="FINALIZE\nTriple Gate\ncs-verify"
        handler="exit"
        promise_id=""
        promise_ac="AC-1"
        status="pending"
        style="filled"
        fillcolor="lightyellow"
    ];

    start -> validate_graph [label="parse complete"];
    validate_graph -> init_env [label="graph valid"];
    init_env -> impl_extend_zerorepo_for_dot_pipeline_generation [label="env ready"];
    impl_extend_zerorepo_for_dot_pipeline_generation -> validate_extend_zerorepo_for_dot_pipeline_generation_tech [label="impl_complete"];
    validate_extend_zerorepo_for_dot_pipeline_generation_tech -> validate_extend_zerorepo_for_dot_pipeline_generation_biz [label="tech pass"];
    validate_extend_zerorepo_for_dot_pipeline_generation_biz -> decision_extend_zerorepo_for_dot_pipeline_generation;
    decision_extend_zerorepo_for_dot_pipeline_generation -> impl_extend_zerorepo_for_dot_pipeline_generation [label="fail\nretry" condition="fail" color="red" style="dashed"];
    decision_extend_zerorepo_for_dot_pipeline_generation -> finalize [label="pass" condition="pass" color="green"];
}
